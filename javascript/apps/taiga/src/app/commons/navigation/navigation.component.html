<!--
This Source Code Form is subject to the terms of the Mozilla Public
License, v. 2.0. If a copy of the MPL was not distributed with this
file, You can obtain one at http://mozilla.org/MPL/2.0/.

Copyright (c) 2021-present Kaleidos Ventures SL
-->
<ng-container *transloco="let t; read: 'navigation'">
<ng-container *ngIf="user$ | async as user">
<div class="left">
  <a
    appearance="home-button"
    href="http://google.com"
    class="home-button"
    tuiIconButton
    icon="taigaLogo"
    type="button"
  >
    <span class="visually-hidden">{{ t('go_home') }}</span>
  </a>
  <tui-hosted-dropdown
  [content]="projectsDropdown"
  [(open)]="openProjectsDropdown">
    <button
      appearance="tertiary-button"
      tuiButton
      icon="folder"
      type="button">
      {{ 'commons.projects' | transloco }}
    </button>
  </tui-hosted-dropdown>
</div>
<div class="right">
  <div class="actions">
    <button
      appearance="button-form"
      tuiIconButton
      icon="search"
      type="button"
    >
    </button>
    <button
      appearance="button-form"
      tuiIconButton
      icon="discover"
      type="button"
    >
    </button>
    <button
      appearance="button-form"
      tuiIconButton
      icon="help"
      type="button"
    >
    </button>
    <div class="notification-button">
      <div class="counter">13</div>
      <button
        appearance="button-form"
        tuiIconButton
        icon="bell"
        type="button">
      </button>
    </div>
  </div>
  <div class="separator"></div>
  <div class="avatar-holder">
    <tui-hosted-dropdown
      [content]="userDropdown"
      [(open)]="openUserDropdown">
      <button
        class="avatar-dropdown-button"
        type="button">
        <tg-avatar></tg-avatar>
      </button>
    </tui-hosted-dropdown>
  </div>
</div>

<ng-template #userDropdown>
    <tg-navigation-user-dropdown [user]="user"></tg-navigation-user-dropdown>
</ng-template>

<ng-template #projectsDropdown>
  <tg-navigation-projects></tg-navigation-projects>
</ng-template>
</ng-container>
</ng-container>
