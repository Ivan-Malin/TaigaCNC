<!--
This Source Code Form is subject to the terms of the Mozilla Public
License, v. 2.0. If a copy of the MPL was not distributed with this
file, You can obtain one at http://mozilla.org/MPL/2.0/.

Copyright (c) 2021-present Kaleidos Ventures SL
-->

<ng-container *transloco="let t;">

  <ng-container *ngIf="workspaceList$ | async as workspaceList">
    <div class="page-actions">
      <a tuiButton
        type="button"
        appearance="tertiary"
        routerLink=".."
        icon="arrow-left">
        {{ t('commons.back') }}
      </a>
    </div>
    <div class="new-project-wrapper">
      <ng-container *ngIf="currentStep === 'template'">
        <tg-template-step (templateSelected)="onSelectTemplate($event)"
          [workspaces]="workspaceList">
        </tg-template-step>
      </ng-container>
      <ng-container *ngIf="currentStep === 'detail'">
        <tg-detail-step
          (projectData)="createProject($event)"
          (cancel)="currentStep = 'template'"
          [selectedWorkspaceSlug]="formData.workspaceSlug"
          [workspaces]="workspaceList">
        </tg-detail-step>
      </ng-container>
      <ng-container *ngIf="currentStep === 'invite'">
        <tg-invite-step *ngIf="currentStep === 'invite'"
          (finishNewProject)="onInvite($event)">
        </tg-invite-step>
      </ng-container>
    </div>
  </ng-container>
</ng-container>
