<!--
This Source Code Form is subject to the terms of the Mozilla Public
License, v. 2.0. If a copy of the MPL was not distributed with this
file, You can obtain one at http://mozilla.org/MPL/2.0/.

Copyright (c) 2021-present Kaleidos Ventures SL
-->

<ng-container *transloco="let t">
  <form
    [formGroup]="createProjectForm"
    (keydown.esc)="close()"
    (ngSubmit)="onSubmit()"
    [attr.aria-invalid]="createProjectFormInvalid"
    class="workspace-create-padding">
    <tg-workspace-avatar
      [color]="color"
      [name]="createProjectForm.value.projectName">
    </tg-workspace-avatar>
    <tg-ui-input
      class="workspace-input-project-name"
      [label]="t('workspace.workspace_name')">
      <input
        inputRef
        data-e2e="project-name-input"
        formControlName="projectName"
        #firstInput
        tuiAutoFocus
        maxlength="40"
        [placeholder]="t('workspace.workspace_name')">
        <tg-ui-error
          inputError
          error="required">
          {{ t('workspace.error_name_empty') }}
        </tg-ui-error>
    </tg-ui-input>
    <button
      data-e2e="create-project-form-submit"
      appearance="primary"
      tuiButton
      title="{{ t('workspace.create_workspace') }}"
      type="submit">
      {{ t('workspace.create_workspace') }}
    </button>
    <button
      (click)="close()"
      appearance="secondary"
      tuiButton
      title="{{ t('commons.cancel') }}"
      type="button">
      {{ 'commons.cancel' | transloco }}
    </button>
  </form>
</ng-container>
