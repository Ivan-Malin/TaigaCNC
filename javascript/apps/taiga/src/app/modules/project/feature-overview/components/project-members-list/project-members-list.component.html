<!--
This Source Code Form is subject to the terms of the Mozilla Public
License, v. 2.0. If a copy of the MPL was not distributed with this
file, You can obtain one at http://mozilla.org/MPL/2.0/.

Copyright (c) 2021-present Kaleidos Ventures SL
-->

<ng-container *transloco="let t">
  <ul class="member-list" *ngIf="members.length">
    <li
      *ngFor="
        let member of members;
        trackBy: trackById.bind(this);
        let i = index
      "
      class="pending">
      <a class="member-link" href="" [class.pending-member]="isPending(member)">
        <tg-user-card [user]="getUser(member)">
          <div class="member-info">
            <div class="admin" *ngIf="member.role?.isAdmin">
              {{ t('commons.roles.admin') }}
            </div>
            <div class="block-end">
              <button
                *ngIf="i === 0 && leaveProject"
                icon="remove-user"
                appearance="tertiary"
                tuiIconButton
                [tuiHint]="t('project_overview.members.leave')"
                type="button">
                <span class="visually-hidden">{{
                  t('project_overview.members.leave')
                }}</span>
              </button>
              <div class="pending-msg" *ngIf="isPending(member)">
                <tui-svg src="clock"></tui-svg>
                {{ t('project_overview.members.pending') }}
              </div>
            </div>
          </div>
        </tg-user-card>
      </a>
    </li>
  </ul>
</ng-container>
