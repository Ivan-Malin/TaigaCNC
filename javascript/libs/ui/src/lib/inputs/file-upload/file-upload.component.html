<!--
This Source Code Form is subject to the terms of the Mozilla Public
License, v. 2.0. If a copy of the MPL was not distributed with this
file, You can obtain one at http://mozilla.org/MPL/2.0/.

Copyright (c) 2021-present Kaleidos Ventures SL
-->



<ng-container *transloco="let t;">
  <div class="icon-uploader">
    <label class="input-label"
      for="icon-upload">
      {{ label }}
    </label>
    <div class="icon-uploader-inner">
      <div class="icon-wrapper">
        <tg-ui-avatar size="xxl"
          type="light"
          [url]="filePath"
          [color]="color"
          [name]="title">
        </tg-ui-avatar>
        <button class="icon-button"
          (click)="filePath ? removeImage() : displayImageUploader()"
          tuiIconButton
          [icon]="filePath ? 'close' : 'plus'"
          [attr.title]="t('file_upload.choose_image')"
          type="button"
          appearance="tertiary">
        </button>
      </div>
      <div class="icon-uploader-actions">
        <div class="icon-uploader-explanation">
          {{ tip }}
        </div>
        <button class="icon-uploader-button"
          (click)="displayImageUploader()"
          tuiButton
          type="button"
          appearance="tertiary">
          <ng-container *ngIf="!filePath">
            {{ t('file_upload.choose_image') }}
          </ng-container>
          <ng-container *ngIf="filePath">
            {{ t('file_upload.change_image') }}
          </ng-container>
        </button>
        <input class="input-upload"
          #iconUpload
          [attr.accept]="accept"
          (change)="onFileSelected($event)"
          type="file"
          name="icon-upload"
          id="icon-upload">
      </div>
    </div>
  </div>

</ng-container>
