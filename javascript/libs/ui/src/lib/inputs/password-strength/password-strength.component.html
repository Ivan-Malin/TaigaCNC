<!--
This Source Code Form is subject to the terms of the Mozilla Public
License, v. 2.0. If a copy of the MPL was not distributed with this
file, You can obtain one at http://mozilla.org/MPL/2.0/.

Copyright (c) 2021-present Kaleidos Ventures SL
-->

<ng-container *transloco="let t">
  <ng-container *rxLet="strength$; let strength">
    <p *ngIf="!showError" class="password-help">
      <ng-container [ngSwitch]="strength?.id">
        <ng-container *ngSwitchCase="2"
          >{{ t('commons.forms.password_help_medium') }}
        </ng-container>
        <ng-container *ngSwitchCase="3"
          >{{ t('commons.forms.password_help_strong') }}
        </ng-container>

        <ng-container *ngSwitchDefault>{{
          t('commons.forms.password_help_weak', { number: characters })
        }}</ng-container>
      </ng-container>
    </p>

    <ng-container *ngIf="strength !== undefined">
      <div class="strength" [class]="'strength-' + strength.id">
        <div class="strength-bar">
          <div class="step weak"></div>
          <div class="step medium"></div>
          <div class="step strong"></div>
        </div>
        <p class="password-strength-text">{{ t(strength.value) }}</p>
      </div>
    </ng-container>
  </ng-container>
</ng-container>
