!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/forms"),require("@taiga-ui/cdk/classes"),require("@taiga-ui/cdk/constants"),require("@taiga-ui/cdk/decorators"),require("@taiga-ui/cdk/utils/miscellaneous"),require("rxjs"),require("rxjs/operators"),require("@taiga-ui/cdk/services")):"function"==typeof define&&define.amd?define("@taiga-ui/cdk/abstract",["exports","@angular/core","@angular/forms","@taiga-ui/cdk/classes","@taiga-ui/cdk/constants","@taiga-ui/cdk/decorators","@taiga-ui/cdk/utils/miscellaneous","rxjs","rxjs/operators","@taiga-ui/cdk/services"],t):t(((e=e||self)["taiga-ui"]=e["taiga-ui"]||{},e["taiga-ui"].cdk=e["taiga-ui"].cdk||{},e["taiga-ui"].cdk.abstract={}),e.ng.core,e.ng.forms,e["taiga-ui"].cdk.classes,e["taiga-ui"].cdk.constants,e["taiga-ui"].cdk.decorators,e["taiga-ui"].cdk.utils.miscellaneous,e.rxjs,e.rxjs.operators,e["taiga-ui"].cdk.services)}(this,(function(e,t,o,n,r,i,u,a,s,c){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var l=function(e,t){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)};function p(e,t){function o(){this.constructor=e}l(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}var d=function(){return(d=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var r in t=arguments[o])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function f(e,t,o,n){var r,i=arguments.length,u=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(u=(i<3?r(u):i>3?r(t,o,u):r(t,o))||u);return i>3&&u&&Object.defineProperty(t,o,u),u}function h(e,t){var o="function"==typeof Symbol&&e[Symbol.iterator];if(!o)return e;var n,r,i=o.call(e),u=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)u.push(n.value)}catch(e){r={error:e}}finally{try{n&&!n.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}return u}var g=function(){function e(){this.hovered=!1,this.pressed=!1,this.focusVisible=!1,this.pseudoHovered=null,this.pseudoPressed=null,this.pseudoFocused=null,this.focusable=!0,this.nativeId="",this.focusedChange=new t.EventEmitter,this.pressedChange=new t.EventEmitter,this.hoveredChange=new t.EventEmitter,this.focusVisibleChange=new t.EventEmitter,this.autoIdString="tui_interactive_"+o.autoId+++Date.now()}var o;return o=e,Object.defineProperty(e.prototype,"computedDisabled",{get:function(){return this.disabled},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"computedHovered",{get:function(){return!this.computedDisabled&&u.fallbackValue(this.pseudoHovered,this.hovered)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"computedPressed",{get:function(){return!this.computedDisabled&&u.fallbackValue(this.pseudoPressed,this.pressed)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"computedFocusable",{get:function(){return!this.computedDisabled&&(this.focusable||this.focused)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"computedFocused",{get:function(){return!this.computedDisabled&&u.fallbackValue(this.pseudoFocused,this.focused)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"computedFocusVisible",{get:function(){return!this.computedDisabled&&u.fallbackValue(this.pseudoFocused,this.focusVisible)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.nativeId?this.nativeId:this.autoIdString},enumerable:!0,configurable:!0}),e.prototype.updateHovered=function(e){this.hovered!==e&&(this.hovered=e,this.hoveredChange.emit(e))},e.prototype.updatePressed=function(e){this.pressed!==e&&(this.pressed=e,this.pressedChange.emit(e))},e.prototype.updateFocused=function(e){this.focusedChange.emit(e)},e.prototype.updateFocusVisible=function(e){this.focusVisible!==e&&(this.focusVisible=e,this.focusVisibleChange.emit(e))},e.autoId=0,f([t.Input(),i.tuiDefaultProp()],e.prototype,"pseudoHovered",void 0),f([t.Input(),i.tuiDefaultProp()],e.prototype,"pseudoPressed",void 0),f([t.Input(),i.tuiDefaultProp()],e.prototype,"pseudoFocused",void 0),f([t.Input(),i.tuiDefaultProp()],e.prototype,"focusable",void 0),f([t.Input(),i.tuiDefaultProp()],e.prototype,"nativeId",void 0),f([t.Output()],e.prototype,"focusedChange",void 0),f([t.Output()],e.prototype,"pressedChange",void 0),f([t.Output()],e.prototype,"hoveredChange",void 0),f([t.Output()],e.prototype,"focusVisibleChange",void 0),f([t.HostBinding("class._disabled")],e.prototype,"computedDisabled",null),f([t.HostBinding("class._hovered")],e.prototype,"computedHovered",null),f([t.HostBinding("class._pressed")],e.prototype,"computedPressed",null),f([t.HostBinding("class._focused")],e.prototype,"computedFocused",null),f([t.HostBinding("class._focus-visible")],e.prototype,"computedFocusVisible",null),e=o=f([t.Directive()],e)}(),y=function(e){function c(t,o){var i=e.call(this)||this;return i.ngControl=t,i.changeDetectorRef=o,i.onTouched=r.EMPTY_FUNCTION,i.onChange=r.EMPTY_FUNCTION,i.fallbackValue=i.getFallbackValue(),i.destroy$=new a.Subject,i.readOnly=!1,i.pseudoInvalid=null,null===i.ngControl?n.tuiAssert.assert(!1,"NgControl not injected in "+i.constructor.name+"!\n","Use [(ngModel)] or [formControl] or formControlName for correct work."):i.ngControl.valueAccessor=i,i}return p(c,e),Object.defineProperty(c.prototype,"computedInvalid",{get:function(){return!this.readOnly&&!this.disabled&&(null!==this.pseudoInvalid?this.pseudoInvalid:this.touched&&this.invalid)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"value",{get:function(){return u.fallbackValue(this.previousInternalValue,this.fallbackValue)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"safeCurrentValue",{get:function(){return u.fallbackValue(this.rawValue,this.fallbackValue)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"invalid",{get:function(){return this.safeNgControlData((function(e){return e.invalid}),!1)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"valid",{get:function(){return this.safeNgControlData((function(e){return e.valid}),!1)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"touched",{get:function(){return this.safeNgControlData((function(e){return e.touched}),!1)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"disabled",{get:function(){return this.safeNgControlData((function(e){return e.disabled}),!1)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"control",{get:function(){return this.safeNgControlData((function(e){return e.control}),null)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"computedName",{get:function(){return this.controlName},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"controlName",{get:function(){return this.ngControl&&this.ngControl.name},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"rawValue",{get:function(){var e=this.ngControl;if(null!==e)return e instanceof o.NgModel&&void 0===this.previousInternalValue?e.viewModel:e.value},enumerable:!0,configurable:!0}),c.prototype.ngOnInit=function(){var e=this;this.ngControl&&this.ngControl.valueChanges&&this.ngControl.statusChanges&&a.merge(this.ngControl.valueChanges,this.ngControl.statusChanges).pipe(s.takeUntil(this.destroy$)).subscribe((function(){e.refreshLocalValue(e.safeCurrentValue)}))},c.prototype.ngOnDestroy=function(){this.destroy$.next(),this.destroy$.complete()},c.prototype.checkControlUpdate=function(){this.changeDetectorRef.markForCheck()},c.prototype.registerOnChange=function(e){this.onChange=e},c.prototype.registerOnTouched=function(e){this.onTouched=e},c.prototype.setDisabledState=function(){this.checkControlUpdate()},c.prototype.writeValue=function(e){this.refreshLocalValue(this.ngControl instanceof o.NgModel&&void 0===this.previousInternalValue?this.ngControl.model:e)},c.prototype.updateFocused=function(t){t||this.controlMarkAsTouched(),e.prototype.updateFocused.call(this,t)},c.prototype.updateValue=function(e){this.disabled||this.valueIdenticalComparator(this.value,e)||(this.previousInternalValue=e,this.controlSetValue(e))},c.prototype.valueIdenticalComparator=function(e,t){return e===t},c.prototype.safeNgControlData=function(e,t){return u.fallbackValue(this.ngControl&&e(this.ngControl),t)},c.prototype.controlMarkAsTouched=function(){this.onTouched(),this.checkControlUpdate()},c.prototype.controlSetValue=function(e){this.onChange(e),this.checkControlUpdate()},c.prototype.refreshLocalValue=function(e){this.previousInternalValue=e,this.checkControlUpdate()},c.ctorParameters=function(){return[{type:o.NgControl},{type:t.ChangeDetectorRef}]},f([t.Input(),t.HostBinding("class._readonly"),i.tuiDefaultProp()],c.prototype,"readOnly",void 0),f([t.Input(),i.tuiDefaultProp()],c.prototype,"pseudoInvalid",void 0),f([t.HostBinding("class._invalid")],c.prototype,"computedInvalid",null),c=f([t.Directive()],c)}(g),b=function(){function e(){this.change$=new a.Subject}return e.prototype.ngOnChanges=function(){this.change$.next()},e}(),v=function(e){function o(t){var o=e.call(this,(function(e){return o.dialogs$.subscribe(e)}))||this;return o.idService=t,o.dialogs$=new a.BehaviorSubject([]),o}var n,r;return p(o,e),o.prototype.open=function(e,t){var o=this;return void 0===t&&(t={}),new a.Observable((function(n){var r=d(d(d({},o.defaultOptions),t),{content:e,completeWith:function(e){n.next(e),n.complete()},$implicit:n,component:o.component,id:o.idService.generate()});return o.dialogs$.next(function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(h(arguments[t]));return e}(o.dialogs$.value,[r])),function(){o.dialogs$.next(o.dialogs$.value.filter((function(e){return e!==r})))}}))},o.ctorParameters=function(){return[{type:c.TuiIdService,decorators:[{type:t.Inject,args:[c.TuiIdService]}]}]},o=f([t.Injectable(),(n=0,r=t.Inject(c.TuiIdService),function(e,t){r(e,t,n)})],o)}(a.Observable),m=function(e){function o(){return null!==e&&e.apply(this,arguments)||this}return p(o,e),o.prototype.clear=function(){this.updateValue([])},o.prototype.getFallbackValue=function(){return[]},o=f([t.Directive()],o)}(y),C=function(e){function o(){return null!==e&&e.apply(this,arguments)||this}return p(o,e),o.prototype.getFallbackValue=function(){return null},o=f([t.Directive()],o)}(y),O=function(){function e(e){if(this.documentRef=e,null===this.style){var t=this.documentRef.head.querySelectorAll("style");this.constructor.style=t[t.length-1]}else this.addTheme()}return Object.defineProperty(e.prototype,"style",{get:function(){return this.constructor.style},enumerable:!0,configurable:!0}),e.prototype.ngOnDestroy=function(){this.removeTheme()},e.prototype.addTheme=function(){if(this.style&&!this.documentRef.head.contains(this.style)){for(var e=this.style.attributes.length-1;e>=0;e--)this.style.removeAttribute(this.style.attributes[e].name);this.documentRef.head.appendChild(this.style)}},e.prototype.removeTheme=function(){this.style&&this.documentRef.head.contains(this.style)&&this.documentRef.head.removeChild(this.style)},e.style=null,e}();e.AbstractTuiControl=y,e.AbstractTuiDialogService=v,e.AbstractTuiInteractive=g,e.AbstractTuiMultipleControl=m,e.AbstractTuiNullableControl=C,e.AbstractTuiThemeSwitcher=O,e.TuiController=b,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=taiga-ui-cdk-abstract.umd.min.js.map