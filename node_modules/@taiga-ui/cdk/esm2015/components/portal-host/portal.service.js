import { __decorate } from "tslib";
import { Injectable, } from '@angular/core';
import * as i0 from "@angular/core";
const NO_HOST = 'Portals cannot be used without TuiPortalHostComponent';
/**
 * Service for displaying portals
 */
let TuiPortalService = class TuiPortalService {
    get safeHost() {
        if (!this.host) {
            throw new Error(NO_HOST);
        }
        return this.host;
    }
    attach(host) {
        this.host = host;
    }
    add(componentFactory, injector) {
        return this.safeHost.addComponentChild(componentFactory, injector);
    }
    remove({ hostView }) {
        hostView.destroy();
    }
    addTemplate(templateRef, context) {
        return this.safeHost.addTemplateChild(templateRef, context);
    }
    removeTemplate(viewRef) {
        viewRef.destroy();
    }
};
TuiPortalService.ɵprov = i0.ɵɵdefineInjectable({ factory: function TuiPortalService_Factory() { return new TuiPortalService(); }, token: TuiPortalService, providedIn: "root" });
TuiPortalService = __decorate([
    Injectable({
        providedIn: 'root',
    })
], TuiPortalService);
export { TuiPortalService };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicG9ydGFsLnNlcnZpY2UuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AdGFpZ2EtdWkvY2RrL2NvbXBvbmVudHMvcG9ydGFsLWhvc3QvIiwic291cmNlcyI6WyJwb3J0YWwuc2VydmljZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBTyxFQUlILFVBQVUsR0FHYixNQUFNLGVBQWUsQ0FBQzs7QUFHdkIsTUFBTSxPQUFPLEdBQUcsdURBQXVELENBQUM7QUFFeEU7O0dBRUc7QUFJSCxJQUFhLGdCQUFnQixHQUE3QixNQUFhLGdCQUFnQjtJQUd6QixJQUFZLFFBQVE7UUFDaEIsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUU7WUFDWixNQUFNLElBQUksS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1NBQzVCO1FBRUQsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDO0lBQ3JCLENBQUM7SUFFRCxNQUFNLENBQUMsSUFBNEI7UUFDL0IsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7SUFDckIsQ0FBQztJQUVELEdBQUcsQ0FBSSxnQkFBcUMsRUFBRSxRQUFrQjtRQUM1RCxPQUFPLElBQUksQ0FBQyxRQUFRLENBQUMsaUJBQWlCLENBQUMsZ0JBQWdCLEVBQUUsUUFBUSxDQUFDLENBQUM7SUFDdkUsQ0FBQztJQUVELE1BQU0sQ0FBSSxFQUFDLFFBQVEsRUFBa0I7UUFDakMsUUFBUSxDQUFDLE9BQU8sRUFBRSxDQUFDO0lBQ3ZCLENBQUM7SUFFRCxXQUFXLENBQUksV0FBMkIsRUFBRSxPQUFXO1FBQ25ELE9BQU8sSUFBSSxDQUFDLFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQyxXQUFXLEVBQUUsT0FBTyxDQUFDLENBQUM7SUFDaEUsQ0FBQztJQUVELGNBQWMsQ0FBSSxPQUEyQjtRQUN6QyxPQUFPLENBQUMsT0FBTyxFQUFFLENBQUM7SUFDdEIsQ0FBQztDQUNKLENBQUE7O0FBOUJZLGdCQUFnQjtJQUg1QixVQUFVLENBQUM7UUFDUixVQUFVLEVBQUUsTUFBTTtLQUNyQixDQUFDO0dBQ1csZ0JBQWdCLENBOEI1QjtTQTlCWSxnQkFBZ0IiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICAgIENvbXBvbmVudEZhY3RvcnksXG4gICAgQ29tcG9uZW50UmVmLFxuICAgIEVtYmVkZGVkVmlld1JlZixcbiAgICBJbmplY3RhYmxlLFxuICAgIEluamVjdG9yLFxuICAgIFRlbXBsYXRlUmVmLFxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7VHVpUG9ydGFsSG9zdENvbXBvbmVudH0gZnJvbSAnLi9wb3J0YWwtaG9zdC5jb21wb25lbnQnO1xuXG5jb25zdCBOT19IT1NUID0gJ1BvcnRhbHMgY2Fubm90IGJlIHVzZWQgd2l0aG91dCBUdWlQb3J0YWxIb3N0Q29tcG9uZW50JztcblxuLyoqXG4gKiBTZXJ2aWNlIGZvciBkaXNwbGF5aW5nIHBvcnRhbHNcbiAqL1xuQEluamVjdGFibGUoe1xuICAgIHByb3ZpZGVkSW46ICdyb290Jyxcbn0pXG5leHBvcnQgY2xhc3MgVHVpUG9ydGFsU2VydmljZSB7XG4gICAgcHJpdmF0ZSBob3N0PzogVHVpUG9ydGFsSG9zdENvbXBvbmVudDtcblxuICAgIHByaXZhdGUgZ2V0IHNhZmVIb3N0KCk6IFR1aVBvcnRhbEhvc3RDb21wb25lbnQge1xuICAgICAgICBpZiAoIXRoaXMuaG9zdCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKE5PX0hPU1QpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaG9zdDtcbiAgICB9XG5cbiAgICBhdHRhY2goaG9zdDogVHVpUG9ydGFsSG9zdENvbXBvbmVudCkge1xuICAgICAgICB0aGlzLmhvc3QgPSBob3N0O1xuICAgIH1cblxuICAgIGFkZDxDPihjb21wb25lbnRGYWN0b3J5OiBDb21wb25lbnRGYWN0b3J5PEM+LCBpbmplY3RvcjogSW5qZWN0b3IpOiBDb21wb25lbnRSZWY8Qz4ge1xuICAgICAgICByZXR1cm4gdGhpcy5zYWZlSG9zdC5hZGRDb21wb25lbnRDaGlsZChjb21wb25lbnRGYWN0b3J5LCBpbmplY3Rvcik7XG4gICAgfVxuXG4gICAgcmVtb3ZlPEM+KHtob3N0Vmlld306IENvbXBvbmVudFJlZjxDPikge1xuICAgICAgICBob3N0Vmlldy5kZXN0cm95KCk7XG4gICAgfVxuXG4gICAgYWRkVGVtcGxhdGU8Qz4odGVtcGxhdGVSZWY6IFRlbXBsYXRlUmVmPEM+LCBjb250ZXh0PzogQyk6IEVtYmVkZGVkVmlld1JlZjxDPiB7XG4gICAgICAgIHJldHVybiB0aGlzLnNhZmVIb3N0LmFkZFRlbXBsYXRlQ2hpbGQodGVtcGxhdGVSZWYsIGNvbnRleHQpO1xuICAgIH1cblxuICAgIHJlbW92ZVRlbXBsYXRlPEM+KHZpZXdSZWY6IEVtYmVkZGVkVmlld1JlZjxDPikge1xuICAgICAgICB2aWV3UmVmLmRlc3Ryb3koKTtcbiAgICB9XG59XG4iXX0=