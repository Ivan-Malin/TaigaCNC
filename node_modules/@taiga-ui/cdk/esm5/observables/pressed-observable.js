import { filter, mapTo, startWith, switchMapTo, take } from 'rxjs/operators';
import { mouseDragFinishFrom } from './mouse-drag-finish-from';
import { typedFromEvent } from './typed-from-event';
export function pressedObservable(element) {
    var ownerDocument = element.ownerDocument;
    if (!ownerDocument) {
        throw new Error('element does not have ownerDocument');
    }
    return typedFromEvent(element, 'mousedown').pipe(filter(function (_a) {
        var isTrusted = _a.isTrusted;
        return isTrusted;
    }), switchMapTo(mouseDragFinishFrom(ownerDocument).pipe(mapTo(false), take(1), startWith(true))));
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJlc3NlZC1vYnNlcnZhYmxlLmpzIiwic291cmNlUm9vdCI6Im5nOi8vQHRhaWdhLXVpL2Nkay9vYnNlcnZhYmxlcy8iLCJzb3VyY2VzIjpbInByZXNzZWQtb2JzZXJ2YWJsZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQSxPQUFPLEVBQUMsTUFBTSxFQUFFLEtBQUssRUFBRSxTQUFTLEVBQUUsV0FBVyxFQUFFLElBQUksRUFBQyxNQUFNLGdCQUFnQixDQUFDO0FBQzNFLE9BQU8sRUFBQyxtQkFBbUIsRUFBQyxNQUFNLDBCQUEwQixDQUFDO0FBQzdELE9BQU8sRUFBQyxjQUFjLEVBQUMsTUFBTSxvQkFBb0IsQ0FBQztBQUVsRCxNQUFNLFVBQVUsaUJBQWlCLENBQUMsT0FBZ0I7SUFDdkMsSUFBQSxxQ0FBYSxDQUFZO0lBRWhDLElBQUksQ0FBQyxhQUFhLEVBQUU7UUFDaEIsTUFBTSxJQUFJLEtBQUssQ0FBQyxxQ0FBcUMsQ0FBQyxDQUFDO0tBQzFEO0lBRUQsT0FBTyxjQUFjLENBQUMsT0FBTyxFQUFFLFdBQVcsQ0FBQyxDQUFDLElBQUksQ0FDNUMsTUFBTSxDQUFDLFVBQUMsRUFBVztZQUFWLHdCQUFTO1FBQU0sT0FBQSxTQUFTO0lBQVQsQ0FBUyxDQUFDLEVBQ2xDLFdBQVcsQ0FDUCxtQkFBbUIsQ0FBQyxhQUFhLENBQUMsQ0FBQyxJQUFJLENBQ25DLEtBQUssQ0FBQyxLQUFLLENBQUMsRUFDWixJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQ1AsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUNsQixDQUNKLENBQ0osQ0FBQztBQUNOLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge09ic2VydmFibGV9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHtmaWx0ZXIsIG1hcFRvLCBzdGFydFdpdGgsIHN3aXRjaE1hcFRvLCB0YWtlfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5pbXBvcnQge21vdXNlRHJhZ0ZpbmlzaEZyb219IGZyb20gJy4vbW91c2UtZHJhZy1maW5pc2gtZnJvbSc7XG5pbXBvcnQge3R5cGVkRnJvbUV2ZW50fSBmcm9tICcuL3R5cGVkLWZyb20tZXZlbnQnO1xuXG5leHBvcnQgZnVuY3Rpb24gcHJlc3NlZE9ic2VydmFibGUoZWxlbWVudDogRWxlbWVudCk6IE9ic2VydmFibGU8Ym9vbGVhbj4ge1xuICAgIGNvbnN0IHtvd25lckRvY3VtZW50fSA9IGVsZW1lbnQ7XG5cbiAgICBpZiAoIW93bmVyRG9jdW1lbnQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdlbGVtZW50IGRvZXMgbm90IGhhdmUgb3duZXJEb2N1bWVudCcpO1xuICAgIH1cblxuICAgIHJldHVybiB0eXBlZEZyb21FdmVudChlbGVtZW50LCAnbW91c2Vkb3duJykucGlwZShcbiAgICAgICAgZmlsdGVyKCh7aXNUcnVzdGVkfSkgPT4gaXNUcnVzdGVkKSxcbiAgICAgICAgc3dpdGNoTWFwVG8oXG4gICAgICAgICAgICBtb3VzZURyYWdGaW5pc2hGcm9tKG93bmVyRG9jdW1lbnQpLnBpcGUoXG4gICAgICAgICAgICAgICAgbWFwVG8oZmFsc2UpLFxuICAgICAgICAgICAgICAgIHRha2UoMSksXG4gICAgICAgICAgICAgICAgc3RhcnRXaXRoKHRydWUpLFxuICAgICAgICAgICAgKSxcbiAgICAgICAgKSxcbiAgICApO1xufVxuIl19