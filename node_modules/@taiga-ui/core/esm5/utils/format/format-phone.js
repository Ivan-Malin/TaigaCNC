/**
 * Formats a string with the phone format +7XXXXXXXXXXXX or XXXXXXXXXXXX,
 * adding parentheses and hyphens.
 *
 * @param value the input string
 * @param countryCode a country code
 * @param phoneMask a phone number mask
 * @return the formatted phone string of the form +7 XXX XXX-XX-XX
 */
export function formatPhone(value, countryCode, phoneMask) {
    if (!value) {
        return '';
    }
    var result = countryCode;
    if (!value.startsWith(countryCode)) {
        value = countryCode + value.replace('+', '');
    }
    var splitPhoneMask = phoneMask.split('');
    var splitValue = value.slice(countryCode.length).split('');
    result += ' ';
    if (splitValue.length === 0) {
        return result;
    }
    for (var i = 0; i < splitPhoneMask.length; i++) {
        if (splitValue.length === 0) {
            break;
        }
        if (splitPhoneMask[i] === '#') {
            result += splitValue[0] || '';
            splitValue.splice(0, 1);
        }
        else {
            result += splitPhoneMask[i];
        }
    }
    return result;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZm9ybWF0LXBob25lLmpzIiwic291cmNlUm9vdCI6Im5nOi8vQHRhaWdhLXVpL2NvcmUvdXRpbHMvZm9ybWF0LyIsInNvdXJjZXMiOlsiZm9ybWF0LXBob25lLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7OztHQVFHO0FBQ0gsTUFBTSxVQUFVLFdBQVcsQ0FDdkIsS0FBYSxFQUNiLFdBQW1CLEVBQ25CLFNBQWlCO0lBRWpCLElBQUksQ0FBQyxLQUFLLEVBQUU7UUFDUixPQUFPLEVBQUUsQ0FBQztLQUNiO0lBRUQsSUFBSSxNQUFNLEdBQUcsV0FBVyxDQUFDO0lBRXpCLElBQUksQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDLFdBQVcsQ0FBQyxFQUFFO1FBQ2hDLEtBQUssR0FBRyxXQUFXLEdBQUcsS0FBSyxDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUUsRUFBRSxDQUFDLENBQUM7S0FDaEQ7SUFFRCxJQUFNLGNBQWMsR0FBRyxTQUFTLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxDQUFDO0lBQzNDLElBQU0sVUFBVSxHQUFHLEtBQUssQ0FBQyxLQUFLLENBQUMsV0FBVyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUMsQ0FBQztJQUU3RCxNQUFNLElBQUksR0FBRyxDQUFDO0lBRWQsSUFBSSxVQUFVLENBQUMsTUFBTSxLQUFLLENBQUMsRUFBRTtRQUN6QixPQUFPLE1BQU0sQ0FBQztLQUNqQjtJQUVELEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxjQUFjLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO1FBQzVDLElBQUksVUFBVSxDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQUU7WUFDekIsTUFBTTtTQUNUO1FBRUQsSUFBSSxjQUFjLENBQUMsQ0FBQyxDQUFDLEtBQUssR0FBRyxFQUFFO1lBQzNCLE1BQU0sSUFBSSxVQUFVLENBQUMsQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDO1lBQzlCLFVBQVUsQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1NBQzNCO2FBQU07WUFDSCxNQUFNLElBQUksY0FBYyxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQy9CO0tBQ0o7SUFFRCxPQUFPLE1BQU0sQ0FBQztBQUNsQixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBGb3JtYXRzIGEgc3RyaW5nIHdpdGggdGhlIHBob25lIGZvcm1hdCArN1hYWFhYWFhYWFhYWCBvciBYWFhYWFhYWFhYWFgsXG4gKiBhZGRpbmcgcGFyZW50aGVzZXMgYW5kIGh5cGhlbnMuXG4gKlxuICogQHBhcmFtIHZhbHVlIHRoZSBpbnB1dCBzdHJpbmdcbiAqIEBwYXJhbSBjb3VudHJ5Q29kZSBhIGNvdW50cnkgY29kZVxuICogQHBhcmFtIHBob25lTWFzayBhIHBob25lIG51bWJlciBtYXNrXG4gKiBAcmV0dXJuIHRoZSBmb3JtYXR0ZWQgcGhvbmUgc3RyaW5nIG9mIHRoZSBmb3JtICs3IFhYWCBYWFgtWFgtWFhcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdFBob25lKFxuICAgIHZhbHVlOiBzdHJpbmcsXG4gICAgY291bnRyeUNvZGU6IHN0cmluZyxcbiAgICBwaG9uZU1hc2s6IHN0cmluZyxcbik6IHN0cmluZyB7XG4gICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgfVxuXG4gICAgbGV0IHJlc3VsdCA9IGNvdW50cnlDb2RlO1xuXG4gICAgaWYgKCF2YWx1ZS5zdGFydHNXaXRoKGNvdW50cnlDb2RlKSkge1xuICAgICAgICB2YWx1ZSA9IGNvdW50cnlDb2RlICsgdmFsdWUucmVwbGFjZSgnKycsICcnKTtcbiAgICB9XG5cbiAgICBjb25zdCBzcGxpdFBob25lTWFzayA9IHBob25lTWFzay5zcGxpdCgnJyk7XG4gICAgY29uc3Qgc3BsaXRWYWx1ZSA9IHZhbHVlLnNsaWNlKGNvdW50cnlDb2RlLmxlbmd0aCkuc3BsaXQoJycpO1xuXG4gICAgcmVzdWx0ICs9ICcgJztcblxuICAgIGlmIChzcGxpdFZhbHVlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3BsaXRQaG9uZU1hc2subGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKHNwbGl0VmFsdWUubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzcGxpdFBob25lTWFza1tpXSA9PT0gJyMnKSB7XG4gICAgICAgICAgICByZXN1bHQgKz0gc3BsaXRWYWx1ZVswXSB8fCAnJztcbiAgICAgICAgICAgIHNwbGl0VmFsdWUuc3BsaWNlKDAsIDEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0ICs9IHNwbGl0UGhvbmVNYXNrW2ldO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbiJdfQ==