{"version":3,"file":"taiga-ui-core-components-data-list.js","sources":["ng://@taiga-ui/core/components/data-list/option/option.component.ts","ng://@taiga-ui/core/components/data-list/data-list.component.ts","ng://@taiga-ui/core/components/data-list/data-list.directive.ts","ng://@taiga-ui/core/components/data-list/data-list-dropdown-manager.directive.ts","ng://@taiga-ui/core/components/data-list/opt-group.directive.ts","ng://@taiga-ui/core/components/data-list/data-list.module.ts","ng://@taiga-ui/core/components/data-list/taiga-ui-core-components-data-list.ts"],"sourcesContent":["import {\n    ChangeDetectionStrategy,\n    Component,\n    ElementRef,\n    forwardRef,\n    HostBinding,\n    HostListener,\n    Inject,\n    Input,\n    OnDestroy,\n    Optional,\n    Self,\n    TemplateRef,\n} from '@angular/core';\nimport {\n    isNativeFocused,\n    setNativeFocused,\n    TuiContextWithImplicit,\n    tuiDefaultProp,\n    TuiEventWith,\n} from '@taiga-ui/cdk';\nimport {TuiDropdownDirective} from '@taiga-ui/core/directives/dropdown';\nimport {TuiDataListHost} from '@taiga-ui/core/interfaces';\nimport {TUI_DATA_LIST_HOST, TUI_OPTION_CONTENT} from '@taiga-ui/core/tokens';\nimport {TuiOptionRole, TuiSizeL, TuiSizeXS} from '@taiga-ui/core/types';\nimport {shouldCall} from '@tinkoff/ng-event-plugins';\nimport {PolymorpheusContent} from '@tinkoff/ng-polymorpheus';\nimport {TuiDataListComponent} from '../data-list.component';\n\nexport function shouldFocus({\n    currentTarget,\n}: TuiEventWith<MouseEvent, HTMLElement>): boolean {\n    return !isNativeFocused(currentTarget);\n}\n\n// TODO: Consider all use cases for aria roles\n@Component({\n    selector: `button[tuiOption], a[tuiOption]`,\n    templateUrl: './option.template.html',\n    styleUrls: ['./option.style.less'],\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    host: {\n        tabIndex: '-1',\n        type: 'button',\n        '[attr.disabled]': 'disabled || null',\n    },\n})\nexport class TuiOptionComponent<T = unknown> implements OnDestroy {\n    @Input()\n    @HostBinding('attr.data-size')\n    @tuiDefaultProp()\n    size: TuiSizeXS | TuiSizeL = 'm';\n\n    @Input()\n    @HostBinding('attr.role')\n    @tuiDefaultProp()\n    role: TuiOptionRole = 'option';\n\n    @Input()\n    @tuiDefaultProp()\n    disabled = false;\n\n    @Input()\n    value?: T;\n\n    // TODO: Fix dataList type when updated to Ivy and compilation drops metadata\n    constructor(\n        @Optional()\n        @Inject(TUI_OPTION_CONTENT)\n        readonly content: PolymorpheusContent<\n            TuiContextWithImplicit<TemplateRef<{}>>\n        > | null,\n        @Inject(forwardRef(() => TuiDataListComponent))\n        private readonly dataList: any,\n        @Inject(ElementRef) private readonly elementRef: ElementRef<HTMLElement>,\n        @Optional()\n        @Inject(TUI_DATA_LIST_HOST)\n        private readonly host: TuiDataListHost<T> | null,\n        @Optional()\n        @Self()\n        @Inject(TuiDropdownDirective)\n        readonly dropdown: TuiDropdownDirective | null,\n    ) {}\n\n    @HostBinding('class._with-dropdown')\n    get active(): boolean {\n        return !!this.dropdown && !!this.dropdown.dropdownBoxRef;\n    }\n\n    @HostListener('click')\n    onClick() {\n        if (this.host && this.value !== undefined) {\n            this.host.handleOption(this.value);\n        }\n    }\n\n    // @bad TODO: Consider aria-activedescendant for proper accessibility implementation\n    @shouldCall(shouldFocus)\n    @HostListener('init.onMouseMove', ['$event'])\n    @HostListener('mousemove.silent', ['$event'])\n    onMouseMove({currentTarget}: TuiEventWith<MouseEvent, HTMLElement>) {\n        setNativeFocused(currentTarget);\n    }\n\n    // Preventing focus loss upon focused option removal\n    ngOnDestroy() {\n        this.dataList.handleFocusLossIfNecessary(this.elementRef.nativeElement);\n    }\n}\n","import {\n    ChangeDetectionStrategy,\n    Component,\n    ContentChildren,\n    ElementRef,\n    forwardRef,\n    HostBinding,\n    HostListener,\n    Inject,\n    Input,\n    QueryList,\n    ViewEncapsulation,\n} from '@angular/core';\nimport {\n    EMPTY_QUERY,\n    isNativeFocusedIn,\n    isPresent,\n    itemsQueryListObservable,\n    moveFocus,\n    setNativeMouseFocused,\n    tuiDefaultProp,\n    tuiPure,\n} from '@taiga-ui/cdk';\nimport {TuiDataListAccessor} from '@taiga-ui/core/interfaces';\nimport {TUI_DATA_LIST_ACCESSOR, TUI_NOTHING_FOUND_MESSAGE} from '@taiga-ui/core/tokens';\nimport {TuiDataListRole} from '@taiga-ui/core/types';\nimport {PolymorpheusContent} from '@tinkoff/ng-polymorpheus';\nimport {Observable} from 'rxjs';\nimport {map} from 'rxjs/operators';\nimport {TuiOptionComponent} from './option/option.component';\n\n// TODO: Consider aria-activedescendant for proper accessibility implementation\n// @dynamic\n@Component({\n    selector: 'tui-data-list',\n    templateUrl: './data-list.template.html',\n    styleUrls: ['./data-list.style.less'],\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    encapsulation: ViewEncapsulation.None,\n    providers: [\n        {\n            provide: TUI_DATA_LIST_ACCESSOR,\n            useExisting: forwardRef(() => TuiDataListComponent),\n        },\n    ],\n})\nexport class TuiDataListComponent<T> implements TuiDataListAccessor<T> {\n    @Input()\n    @HostBinding('attr.role')\n    @tuiDefaultProp()\n    role: TuiDataListRole = 'listbox';\n\n    @Input()\n    @tuiDefaultProp()\n    emptyContent: PolymorpheusContent = '';\n\n    @ContentChildren(forwardRef(() => TuiOptionComponent), {descendants: true})\n    private readonly options: QueryList<TuiOptionComponent<T>> = EMPTY_QUERY;\n\n    private origin?: HTMLElement;\n\n    constructor(\n        @Inject(ElementRef) private readonly elementRef: ElementRef<HTMLElement>,\n        @Inject(TUI_NOTHING_FOUND_MESSAGE)\n        readonly defaultEmptyContent$: Observable<string>,\n    ) {}\n\n    @tuiPure\n    get empty$(): Observable<boolean> {\n        return itemsQueryListObservable(this.options).pipe(map(({length}) => !length));\n    }\n\n    getOptions(includeDisabled: boolean = false): ReadonlyArray<T> {\n        return this.options\n            .toArray()\n            .filter(({disabled}) => includeDisabled || !disabled)\n            .map(({value}) => value)\n            .filter(isPresent);\n    }\n\n    @HostListener('focusin', ['$event.relatedTarget', '$event.currentTarget'])\n    onFocusIn(relatedTarget: HTMLElement, currentTarget: HTMLElement) {\n        if (!currentTarget.contains(relatedTarget) && !this.origin) {\n            this.origin = relatedTarget;\n        }\n    }\n\n    @HostListener('mousedown.prevent')\n    noop() {}\n\n    @HostListener('keydown.arrowDown.prevent', ['$event.target', '1'])\n    @HostListener('keydown.arrowUp.prevent', ['$event.target', '-1'])\n    onKeyDownArrow(current: HTMLElement, step: number) {\n        const {elements} = this;\n\n        moveFocus(elements.indexOf(current), elements, step);\n    }\n\n    onFocus(element: HTMLElement, top: boolean) {\n        const {elements} = this;\n\n        moveFocus(top ? -1 : elements.length, elements, top ? 1 : -1);\n        this.handleFocusLossIfNecessary(element);\n    }\n\n    // TODO: Consider aria-activedescendant for proper accessibility implementation\n    @HostListener('mouseleave', ['$event.target'])\n    handleFocusLossIfNecessary(element: HTMLElement) {\n        if (this.origin && isNativeFocusedIn(element)) {\n            setNativeMouseFocused(this.origin, true, true);\n        }\n    }\n\n    private get elements(): ReadonlyArray<HTMLElement> {\n        return Array.from(this.elementRef.nativeElement.querySelectorAll('[tuiOption]'));\n    }\n}\n","import {Directive} from '@angular/core';\n\n@Directive({\n    selector: 'ng-template[tuiDataList]',\n})\nexport class TuiDataListDirective {}\n","import {\n    AfterViewInit,\n    ContentChildren,\n    Directive,\n    ElementRef,\n    QueryList,\n} from '@angular/core';\nimport {\n    EMPTY_QUERY,\n    getClosestKeyboardFocusable,\n    itemsQueryListObservable,\n    preventDefault,\n    setNativeFocused,\n    tuiPure,\n    typedFromEvent,\n} from '@taiga-ui/cdk';\nimport {TuiDropdownDirective} from '@taiga-ui/core/directives/dropdown';\nimport {EMPTY, merge, Observable} from 'rxjs';\nimport {\n    debounceTime,\n    filter,\n    map,\n    mapTo,\n    shareReplay,\n    switchMap,\n    take,\n    tap,\n} from 'rxjs/operators';\n\n@Directive({\n    selector: 'tui-data-list[tuiDataListDropdownManager]',\n})\nexport class TuiDataListDropdownManagerDirective implements AfterViewInit {\n    @ContentChildren(TuiDropdownDirective, {descendants: true})\n    private readonly dropdowns: QueryList<TuiDropdownDirective> = EMPTY_QUERY;\n\n    @ContentChildren(TuiDropdownDirective, {read: ElementRef, descendants: true})\n    private readonly elements: QueryList<ElementRef<HTMLElement>> = EMPTY_QUERY;\n\n    ngAfterViewInit() {\n        this.right$.subscribe(index => {\n            this.tryToFocus(index);\n        });\n\n        merge(this.immediate$, this.debounce$)\n            .pipe(\n                switchMap(active => {\n                    this.dropdowns.forEach((dropdown, index) => {\n                        dropdown.open = index === active;\n                    });\n\n                    const element = this.elements.toArray()[active];\n                    const dropdown = this.dropdowns.toArray()[active];\n\n                    if (!element || !dropdown || !dropdown.dropdownBoxRef) {\n                        return EMPTY;\n                    }\n\n                    const {nativeElement} = dropdown.dropdownBoxRef.location;\n                    const mouseEnter$ = typedFromEvent(nativeElement, 'mouseenter').pipe(\n                        take(1),\n                    );\n                    const esc$ = merge(\n                        typedFromEvent(element.nativeElement, 'keydown'),\n                        typedFromEvent(nativeElement, 'keydown'),\n                    ).pipe(filter(({keyCode}) => keyCode === 27));\n\n                    return merge(mouseEnter$, esc$).pipe(\n                        tap(event => {\n                            if (dropdown.dropdownBoxRef) {\n                                event.stopPropagation();\n                            }\n\n                            setNativeFocused(element.nativeElement);\n                            dropdown.open = event instanceof MouseEvent;\n                        }),\n                    );\n                }),\n            )\n            .subscribe();\n    }\n\n    @tuiPure\n    private get elements$(): Observable<ReadonlyArray<HTMLElement>> {\n        return itemsQueryListObservable(this.elements).pipe(\n            map(array => array.map(({nativeElement}) => nativeElement)),\n            shareReplay(1),\n        );\n    }\n\n    @tuiPure\n    private get right$(): Observable<number> {\n        return this.elements$.pipe(\n            switchMap(elements =>\n                merge(\n                    ...elements.map((element, index) =>\n                        typedFromEvent(element, 'keydown').pipe(\n                            filter(({keyCode}) => keyCode === 39),\n                            preventDefault(),\n                            mapTo(index),\n                        ),\n                    ),\n                ),\n            ),\n        );\n    }\n\n    @tuiPure\n    private get immediate$(): Observable<number> {\n        return this.elements$.pipe(\n            switchMap(elements =>\n                merge(\n                    ...elements.map((element, index) =>\n                        typedFromEvent(element, 'click').pipe(mapTo(index)),\n                    ),\n                ),\n            ),\n        );\n    }\n\n    @tuiPure\n    private get debounce$(): Observable<number> {\n        return this.elements$.pipe(\n            switchMap(elements =>\n                merge(\n                    ...elements.map((element, index) =>\n                        merge(\n                            typedFromEvent(element, 'focus'),\n                            typedFromEvent(element, 'blur'),\n                        ).pipe(\n                            filter(({relatedTarget}) =>\n                                this.notInDropdown(relatedTarget, index),\n                            ),\n                            map(({type}) => (type === 'focus' ? index : NaN)),\n                            debounceTime(300),\n                        ),\n                    ),\n                ),\n            ),\n        );\n    }\n\n    private notInDropdown(element: EventTarget | null, index: number): boolean {\n        const dropdown = this.dropdowns.toArray()[index];\n\n        return (\n            !dropdown ||\n            !dropdown.dropdownBoxRef ||\n            !dropdown.dropdownBoxRef.location.nativeElement.contains(element)\n        );\n    }\n\n    private tryToFocus(index: number) {\n        const dropdown = this.dropdowns.toArray()[index];\n        const content =\n            dropdown &&\n            dropdown.dropdownBoxRef &&\n            dropdown.dropdownBoxRef.instance.contentElementRef;\n\n        if (!content) {\n            return;\n        }\n\n        const item = getClosestKeyboardFocusable(\n            content.nativeElement,\n            false,\n            content.nativeElement,\n        );\n\n        if (item) {\n            setNativeFocused(item);\n        }\n    }\n}\n","import {Directive, HostBinding, Input} from '@angular/core';\nimport {tuiDefaultProp} from '@taiga-ui/cdk';\n\n@Directive({\n    selector: 'tui-opt-group',\n    host: {\n        role: 'group',\n    },\n})\nexport class TuiOptGroupDirective {\n    @Input()\n    @HostBinding('attr.data-label')\n    @tuiDefaultProp()\n    label = '';\n}\n","import {CommonModule} from '@angular/common';\nimport {NgModule} from '@angular/core';\nimport {TuiSvgModule} from '@taiga-ui/core/components/svg';\nimport {PolymorpheusModule} from '@tinkoff/ng-polymorpheus';\nimport {TuiDataListDropdownManagerDirective} from './data-list-dropdown-manager.directive';\nimport {TuiDataListComponent} from './data-list.component';\nimport {TuiDataListDirective} from './data-list.directive';\nimport {TuiOptGroupDirective} from './opt-group.directive';\nimport {TuiOptionComponent} from './option/option.component';\n\n@NgModule({\n    imports: [CommonModule, TuiSvgModule, PolymorpheusModule],\n    declarations: [\n        TuiDataListComponent,\n        TuiOptionComponent,\n        TuiOptGroupDirective,\n        TuiDataListDirective,\n        TuiDataListDropdownManagerDirective,\n    ],\n    exports: [\n        TuiDataListComponent,\n        TuiOptionComponent,\n        TuiOptGroupDirective,\n        TuiDataListDirective,\n        TuiDataListDropdownManagerDirective,\n    ],\n})\nexport class TuiDataListModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":[],"mappings":"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"}