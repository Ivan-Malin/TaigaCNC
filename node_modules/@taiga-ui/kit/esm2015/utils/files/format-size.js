import { round } from '@taiga-ui/cdk';
const BYTES_PER_KB = 1000;
const BYTES_PER_MB = 1000 * BYTES_PER_KB;
export function formatSize(units, size) {
    if (size === undefined) {
        return null;
    }
    if (size < BYTES_PER_KB) {
        return `${size} ${units[0]}`;
    }
    if (size < BYTES_PER_MB) {
        return `${(size / BYTES_PER_KB).toFixed()} ${units[1]}`;
    }
    return `${round(size / BYTES_PER_MB, 2).toLocaleString()} ${units[2]}`;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZm9ybWF0LXNpemUuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AdGFpZ2EtdWkva2l0L3V0aWxzL2ZpbGVzLyIsInNvdXJjZXMiOlsiZm9ybWF0LXNpemUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFDLEtBQUssRUFBQyxNQUFNLGVBQWUsQ0FBQztBQUVwQyxNQUFNLFlBQVksR0FBRyxJQUFJLENBQUM7QUFDMUIsTUFBTSxZQUFZLEdBQUcsSUFBSSxHQUFHLFlBQVksQ0FBQztBQUV6QyxNQUFNLFVBQVUsVUFBVSxDQUN0QixLQUErQixFQUMvQixJQUFhO0lBRWIsSUFBSSxJQUFJLEtBQUssU0FBUyxFQUFFO1FBQ3BCLE9BQU8sSUFBSSxDQUFDO0tBQ2Y7SUFFRCxJQUFJLElBQUksR0FBRyxZQUFZLEVBQUU7UUFDckIsT0FBTyxHQUFHLElBQUksSUFBSSxLQUFLLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztLQUNoQztJQUVELElBQUksSUFBSSxHQUFHLFlBQVksRUFBRTtRQUNyQixPQUFPLEdBQUcsQ0FBQyxJQUFJLEdBQUcsWUFBWSxDQUFDLENBQUMsT0FBTyxFQUFFLElBQUksS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7S0FDM0Q7SUFFRCxPQUFPLEdBQUcsS0FBSyxDQUFDLElBQUksR0FBRyxZQUFZLEVBQUUsQ0FBQyxDQUFDLENBQUMsY0FBYyxFQUFFLElBQUksS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7QUFDM0UsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7cm91bmR9IGZyb20gJ0B0YWlnYS11aS9jZGsnO1xuXG5jb25zdCBCWVRFU19QRVJfS0IgPSAxMDAwO1xuY29uc3QgQllURVNfUEVSX01CID0gMTAwMCAqIEJZVEVTX1BFUl9LQjtcblxuZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdFNpemUoXG4gICAgdW5pdHM6IFtzdHJpbmcsIHN0cmluZywgc3RyaW5nXSxcbiAgICBzaXplPzogbnVtYmVyLFxuKTogc3RyaW5nIHwgbnVsbCB7XG4gICAgaWYgKHNpemUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBpZiAoc2l6ZSA8IEJZVEVTX1BFUl9LQikge1xuICAgICAgICByZXR1cm4gYCR7c2l6ZX0gJHt1bml0c1swXX1gO1xuICAgIH1cblxuICAgIGlmIChzaXplIDwgQllURVNfUEVSX01CKSB7XG4gICAgICAgIHJldHVybiBgJHsoc2l6ZSAvIEJZVEVTX1BFUl9LQikudG9GaXhlZCgpfSAke3VuaXRzWzFdfWA7XG4gICAgfVxuXG4gICAgcmV0dXJuIGAke3JvdW5kKHNpemUgLyBCWVRFU19QRVJfTUIsIDIpLnRvTG9jYWxlU3RyaW5nKCl9ICR7dW5pdHNbMl19YDtcbn1cbiJdfQ==