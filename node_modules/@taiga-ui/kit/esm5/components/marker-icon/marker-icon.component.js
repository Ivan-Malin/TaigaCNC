import { __decorate, __param } from "tslib";
import { ChangeDetectionStrategy, Component, HostBinding, Inject, Input, } from '@angular/core';
import { tuiDefaultProp, TuiDestroyService } from '@taiga-ui/cdk';
import { MODE_PROVIDER, TUI_MODE, } from '@taiga-ui/core';
import { Observable } from 'rxjs';
import { takeUntil } from 'rxjs/operators';
var TuiMarkerIconComponent = /** @class */ (function () {
    function TuiMarkerIconComponent(destroy$, mode$) {
        var _this = this;
        this.mode = null;
        this.size = 'm';
        this.src = '';
        this.globalMode = null;
        mode$.pipe(takeUntil(destroy$)).subscribe(function (mode) {
            _this.globalMode = mode;
        });
    }
    Object.defineProperty(TuiMarkerIconComponent.prototype, "computedMode", {
        // TODO: Simplify
        get: function () {
            return this.globalMode === 'onDark' && !this.mode
                ? "onDark" /* OnDark */
                : this.mode;
        },
        enumerable: true,
        configurable: true
    });
    TuiMarkerIconComponent.ctorParameters = function () { return [
        { type: Observable, decorators: [{ type: Inject, args: [TuiDestroyService,] }] },
        { type: Observable, decorators: [{ type: Inject, args: [TUI_MODE,] }] }
    ]; };
    __decorate([
        Input(),
        tuiDefaultProp()
    ], TuiMarkerIconComponent.prototype, "mode", void 0);
    __decorate([
        Input(),
        HostBinding('attr.data-tui-host-size'),
        tuiDefaultProp()
    ], TuiMarkerIconComponent.prototype, "size", void 0);
    __decorate([
        Input(),
        tuiDefaultProp()
    ], TuiMarkerIconComponent.prototype, "src", void 0);
    __decorate([
        HostBinding('attr.data-mode')
    ], TuiMarkerIconComponent.prototype, "computedMode", null);
    TuiMarkerIconComponent = __decorate([
        Component({
            selector: 'tui-marker-icon',
            template: "<tui-svg class=\"icon\" [src]=\"src\"></tui-svg>\n",
            changeDetection: ChangeDetectionStrategy.OnPush,
            providers: [TuiDestroyService, MODE_PROVIDER],
            styles: [":host{transition-duration:.3s;transition-timing-function:ease-in-out;position:relative;display:inline-flex;align-items:center;justify-content:center;flex-shrink:0;border-radius:100%;color:var(--tui-text-03);background-color:var(--tui-base-02);background-size:cover!important;transition-property:color,background-color}:host[data-tui-host-size=xs]{width:32px;height:32px}:host[data-tui-host-size='s']{width:48px;height:48px}:host[data-tui-host-size='m']{width:64px;height:64px}:host[data-tui-host-size='l']{width:96px;height:96px}:host[data-tui-host-size=xl]{width:128px;height:128px}:host[data-mode=primary]{color:var(--tui-primary-text);background-color:var(--tui-primary)}:host[data-mode=white]{color:var(--tui-text-03);background-color:var(--tui-base-01)}:host[data-mode=warning]{color:var(--tui-warning-fill);background-color:var(--tui-warning-bg)}:host[data-mode=secondary]{color:var(--tui-base-01);background-color:var(--tui-info-fill)}:host[data-mode=error]{color:var(--tui-error-fill);background-color:var(--tui-error-bg)}:host[data-mode=success]{color:var(--tui-success-fill);background-color:var(--tui-success-bg)}:host[data-mode=onDark]{color:var(--tui-base-01);background-color:var(--tui-clear-inverse)}:host[data-mode=link]{transition-property:color;transition-duration:.3s;transition-timing-function:ease-in-out;cursor:pointer;color:var(--tui-link);background-color:var(--tui-secondary)}:host[data-mode=link]:hover{color:var(--tui-link-hover);background-color:var(--tui-secondary-hover)}:host[data-mode=link]:active{color:var(--tui-link-hover);background-color:var(--tui-secondary-active)}.icon{width:48px;height:48px}:host[data-tui-host-size=xs] .icon{transform:scale(.667)}:host[data-tui-host-size='m'] .icon{transform:scale(1.333)}:host[data-tui-host-size='l'] .icon{transform:scale(2)}:host[data-tui-host-size=xl] .icon{transform:scale(2.667)}"]
        }),
        __param(0, Inject(TuiDestroyService)),
        __param(1, Inject(TUI_MODE))
    ], TuiMarkerIconComponent);
    return TuiMarkerIconComponent;
}());
export { TuiMarkerIconComponent };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFya2VyLWljb24uY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6Im5nOi8vQHRhaWdhLXVpL2tpdC9jb21wb25lbnRzL21hcmtlci1pY29uLyIsInNvdXJjZXMiOlsibWFya2VyLWljb24uY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFPLEVBQ0gsdUJBQXVCLEVBQ3ZCLFNBQVMsRUFDVCxXQUFXLEVBQ1gsTUFBTSxFQUNOLEtBQUssR0FDUixNQUFNLGVBQWUsQ0FBQztBQUN2QixPQUFPLEVBQUMsY0FBYyxFQUFFLGlCQUFpQixFQUFDLE1BQU0sZUFBZSxDQUFDO0FBQ2hFLE9BQU8sRUFDSCxhQUFhLEVBQ2IsUUFBUSxHQUlYLE1BQU0sZ0JBQWdCLENBQUM7QUFFeEIsT0FBTyxFQUFDLFVBQVUsRUFBQyxNQUFNLE1BQU0sQ0FBQztBQUNoQyxPQUFPLEVBQUMsU0FBUyxFQUFDLE1BQU0sZ0JBQWdCLENBQUM7QUFTekM7SUFnQkksZ0NBQytCLFFBQTZCLEVBQ3RDLEtBQXVDO1FBRjdELGlCQU9DO1FBcEJELFNBQUksR0FBNkIsSUFBSSxDQUFDO1FBS3RDLFNBQUksR0FBMEIsR0FBRyxDQUFDO1FBSWxDLFFBQUcsR0FBRyxFQUFFLENBQUM7UUFFRCxlQUFVLEdBQXlCLElBQUksQ0FBQztRQU01QyxLQUFLLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxVQUFBLElBQUk7WUFDMUMsS0FBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUM7UUFDM0IsQ0FBQyxDQUFDLENBQUM7SUFDUCxDQUFDO0lBSUQsc0JBQUksZ0RBQVk7UUFGaEIsaUJBQWlCO2FBRWpCO1lBQ0ksT0FBTyxJQUFJLENBQUMsVUFBVSxLQUFLLFFBQVEsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJO2dCQUM3QyxDQUFDO2dCQUNELENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDO1FBQ3BCLENBQUM7OztPQUFBOztnQkFkd0MsVUFBVSx1QkFBOUMsTUFBTSxTQUFDLGlCQUFpQjtnQkFDQSxVQUFVLHVCQUFsQyxNQUFNLFNBQUMsUUFBUTs7SUFmcEI7UUFGQyxLQUFLLEVBQUU7UUFDUCxjQUFjLEVBQUU7d0RBQ3FCO0lBS3RDO1FBSEMsS0FBSyxFQUFFO1FBQ1AsV0FBVyxDQUFDLHlCQUF5QixDQUFDO1FBQ3RDLGNBQWMsRUFBRTt3REFDaUI7SUFJbEM7UUFGQyxLQUFLLEVBQUU7UUFDUCxjQUFjLEVBQUU7dURBQ1I7SUFlVDtRQURDLFdBQVcsQ0FBQyxnQkFBZ0IsQ0FBQzs4REFLN0I7SUEvQlEsc0JBQXNCO1FBUGxDLFNBQVMsQ0FBQztZQUNQLFFBQVEsRUFBRSxpQkFBaUI7WUFDM0IsOERBQTBDO1lBRTFDLGVBQWUsRUFBRSx1QkFBdUIsQ0FBQyxNQUFNO1lBQy9DLFNBQVMsRUFBRSxDQUFDLGlCQUFpQixFQUFFLGFBQWEsQ0FBQzs7U0FDaEQsQ0FBQztRQWtCTyxXQUFBLE1BQU0sQ0FBQyxpQkFBaUIsQ0FBQyxDQUFBO1FBQ3pCLFdBQUEsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFBO09BbEJaLHNCQUFzQixDQWdDbEM7SUFBRCw2QkFBQztDQUFBLEFBaENELElBZ0NDO1NBaENZLHNCQUFzQiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gICAgQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3ksXG4gICAgQ29tcG9uZW50LFxuICAgIEhvc3RCaW5kaW5nLFxuICAgIEluamVjdCxcbiAgICBJbnB1dCxcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge3R1aURlZmF1bHRQcm9wLCBUdWlEZXN0cm95U2VydmljZX0gZnJvbSAnQHRhaWdhLXVpL2Nkayc7XG5pbXBvcnQge1xuICAgIE1PREVfUFJPVklERVIsXG4gICAgVFVJX01PREUsXG4gICAgVHVpQnJpZ2h0bmVzcyxcbiAgICBUdWlTaXplWEwsXG4gICAgVHVpU2l6ZVhTLFxufSBmcm9tICdAdGFpZ2EtdWkvY29yZSc7XG5pbXBvcnQge1R1aU1hcmtlckljb25Nb2RlfSBmcm9tICdAdGFpZ2EtdWkva2l0L2VudW1zJztcbmltcG9ydCB7T2JzZXJ2YWJsZX0gZnJvbSAncnhqcyc7XG5pbXBvcnQge3Rha2VVbnRpbH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuXG5AQ29tcG9uZW50KHtcbiAgICBzZWxlY3RvcjogJ3R1aS1tYXJrZXItaWNvbicsXG4gICAgdGVtcGxhdGVVcmw6ICcuL21hcmtlci1pY29uLnRlbXBsYXRlLmh0bWwnLFxuICAgIHN0eWxlVXJsczogWycuL21hcmtlci1pY29uLnN0eWxlLmxlc3MnXSxcbiAgICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaCxcbiAgICBwcm92aWRlcnM6IFtUdWlEZXN0cm95U2VydmljZSwgTU9ERV9QUk9WSURFUl0sXG59KVxuZXhwb3J0IGNsYXNzIFR1aU1hcmtlckljb25Db21wb25lbnQge1xuICAgIEBJbnB1dCgpXG4gICAgQHR1aURlZmF1bHRQcm9wKClcbiAgICBtb2RlOiBUdWlNYXJrZXJJY29uTW9kZSB8IG51bGwgPSBudWxsO1xuXG4gICAgQElucHV0KClcbiAgICBASG9zdEJpbmRpbmcoJ2F0dHIuZGF0YS10dWktaG9zdC1zaXplJylcbiAgICBAdHVpRGVmYXVsdFByb3AoKVxuICAgIHNpemU6IFR1aVNpemVYUyB8IFR1aVNpemVYTCA9ICdtJztcblxuICAgIEBJbnB1dCgpXG4gICAgQHR1aURlZmF1bHRQcm9wKClcbiAgICBzcmMgPSAnJztcblxuICAgIHByaXZhdGUgZ2xvYmFsTW9kZTogVHVpQnJpZ2h0bmVzcyB8IG51bGwgPSBudWxsO1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIEBJbmplY3QoVHVpRGVzdHJveVNlcnZpY2UpIGRlc3Ryb3kkOiBPYnNlcnZhYmxlPHVua25vd24+LFxuICAgICAgICBASW5qZWN0KFRVSV9NT0RFKSBtb2RlJDogT2JzZXJ2YWJsZTxUdWlCcmlnaHRuZXNzIHwgbnVsbD4sXG4gICAgKSB7XG4gICAgICAgIG1vZGUkLnBpcGUodGFrZVVudGlsKGRlc3Ryb3kkKSkuc3Vic2NyaWJlKG1vZGUgPT4ge1xuICAgICAgICAgICAgdGhpcy5nbG9iYWxNb2RlID0gbW9kZTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gVE9ETzogU2ltcGxpZnlcbiAgICBASG9zdEJpbmRpbmcoJ2F0dHIuZGF0YS1tb2RlJylcbiAgICBnZXQgY29tcHV0ZWRNb2RlKCk6IFR1aU1hcmtlckljb25Nb2RlIHwgbnVsbCB7XG4gICAgICAgIHJldHVybiB0aGlzLmdsb2JhbE1vZGUgPT09ICdvbkRhcmsnICYmICF0aGlzLm1vZGVcbiAgICAgICAgICAgID8gVHVpTWFya2VySWNvbk1vZGUuT25EYXJrXG4gICAgICAgICAgICA6IHRoaXMubW9kZTtcbiAgICB9XG59XG4iXX0=