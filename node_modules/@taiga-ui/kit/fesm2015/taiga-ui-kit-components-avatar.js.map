{"version":3,"file":"taiga-ui-kit-components-avatar.js","sources":["ng://@taiga-ui/kit/components/avatar/avatar.component.ts","ng://@taiga-ui/kit/components/avatar/avatar.module.ts","ng://@taiga-ui/kit/components/avatar/taiga-ui-kit-components-avatar.ts"],"sourcesContent":["import {ChangeDetectionStrategy, Component, HostBinding, Input} from '@angular/core';\nimport {tuiDefaultProp, tuiRequiredSetter} from '@taiga-ui/cdk';\nimport {sizeBigger, TuiSizeXS, TuiSizeXXL} from '@taiga-ui/core';\nimport {stringHashToHsl} from '@taiga-ui/kit/utils/format';\n\n@Component({\n    selector: 'tui-avatar',\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    templateUrl: './avatar.template.html',\n    styleUrls: ['./avatar.style.less'],\n})\nexport class TuiAvatarComponent {\n    @Input()\n    @HostBinding('attr.data-tui-host-size')\n    @tuiDefaultProp()\n    size: TuiSizeXS | TuiSizeXXL = 'm';\n\n    @Input('avatarUrl')\n    @tuiRequiredSetter()\n    set avatarUrlSetter(avatarUrl: string | null) {\n        this.isUrlValid = !!avatarUrl;\n        this.avatarUrl = avatarUrl;\n    }\n\n    @Input()\n    @tuiDefaultProp()\n    text = '';\n\n    @Input()\n    @tuiDefaultProp()\n    autoColor = false;\n\n    @Input()\n    @HostBinding('class._rounded')\n    @tuiDefaultProp()\n    rounded = false;\n\n    avatarUrl: string | null = null;\n\n    isUrlValid = false;\n\n    @HostBinding('style.background')\n    get bgColor(): string {\n        return this.autoColor ? stringHashToHsl(this.text) : '';\n    }\n\n    @HostBinding('class._has-avatar')\n    get hasAvatar(): boolean {\n        return this.avatarUrl !== null && this.isUrlValid;\n    }\n\n    get computedText(): string {\n        if (this.hasAvatar || this.text === '') {\n            return '';\n        }\n\n        const words = this.text.split(' ');\n\n        return words.length > 1 && sizeBigger(this.size)\n            ? words[0].substr(0, 1) + words[1].substr(0, 1)\n            : words[0].substr(0, 1);\n    }\n\n    onError() {\n        this.isUrlValid = false;\n    }\n}\n","import {CommonModule} from '@angular/common';\nimport {NgModule} from '@angular/core';\nimport {TuiLazyLoadingModule} from '@taiga-ui/kit/directives';\nimport {TuiAvatarComponent} from './avatar.component';\n\n@NgModule({\n    imports: [CommonModule, TuiLazyLoadingModule],\n    declarations: [TuiAvatarComponent],\n    exports: [TuiAvatarComponent],\n})\nexport class TuiAvatarModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":[],"mappings":";;;;;;;;IAWa,kBAAkB,GAA/B,MAAa,kBAAkB;IAA/B;QAII,SAAI,GAA2B,GAAG,CAAC;QAWnC,SAAI,GAAG,EAAE,CAAC;QAIV,cAAS,GAAG,KAAK,CAAC;QAKlB,YAAO,GAAG,KAAK,CAAC;QAEhB,cAAS,GAAkB,IAAI,CAAC;QAEhC,eAAU,GAAG,KAAK,CAAC;KA2BtB;IA/CG,IAAI,eAAe,CAAC,SAAwB;QACxC,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC,SAAS,CAAC;QAC9B,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;KAC9B;IAoBD,IAAI,OAAO;QACP,OAAO,IAAI,CAAC,SAAS,GAAG,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC;KAC3D;IAGD,IAAI,SAAS;QACT,OAAO,IAAI,CAAC,SAAS,KAAK,IAAI,IAAI,IAAI,CAAC,UAAU,CAAC;KACrD;IAED,IAAI,YAAY;QACZ,IAAI,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,IAAI,KAAK,EAAE,EAAE;YACpC,OAAO,EAAE,CAAC;SACb;QAED,MAAM,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;QAEnC,OAAO,KAAK,CAAC,MAAM,GAAG,CAAC,IAAI,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC;cAC1C,KAAK,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC;cAC7C,KAAK,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;KAC/B;IAED,OAAO;QACH,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;KAC3B;EACJ;AAnDG;IAHC,KAAK,EAAE;IACP,WAAW,CAAC,yBAAyB,CAAC;IACtC,cAAc,EAAE;gDACkB;AAInC;IAFC,KAAK,CAAC,WAAW,CAAC;IAClB,iBAAiB,EAAE;yDAInB;AAID;IAFC,KAAK,EAAE;IACP,cAAc,EAAE;gDACP;AAIV;IAFC,KAAK,EAAE;IACP,cAAc,EAAE;qDACC;AAKlB;IAHC,KAAK,EAAE;IACP,WAAW,CAAC,gBAAgB,CAAC;IAC7B,cAAc,EAAE;mDACD;AAOhB;IADC,WAAW,CAAC,kBAAkB,CAAC;iDAG/B;AAGD;IADC,WAAW,CAAC,mBAAmB,CAAC;mDAGhC;AAtCQ,kBAAkB;IAN9B,SAAS,CAAC;QACP,QAAQ,EAAE,YAAY;QACtB,eAAe,EAAE,uBAAuB,CAAC,MAAM;QAC/C,sNAAqC;;KAExC,CAAC;GACW,kBAAkB,CAuD9B;;ICxDY,eAAe,GAA5B,MAAa,eAAe;EAAG;AAAlB,eAAe;IAL3B,QAAQ,CAAC;QACN,OAAO,EAAE,CAAC,YAAY,EAAE,oBAAoB,CAAC;QAC7C,YAAY,EAAE,CAAC,kBAAkB,CAAC;QAClC,OAAO,EAAE,CAAC,kBAAkB,CAAC;KAChC,CAAC;GACW,eAAe,CAAG;;ACV/B;;;;;;"}