import { __decorate } from 'tslib';
import { Component, ChangeDetectionStrategy, NgModule } from '@angular/core';
import { tuiReplayedValueChangesFrom, isPresent } from '@taiga-ui/cdk';
import { sizeBigger, TuiPrimitiveCheckboxModule } from '@taiga-ui/core';
import { TuiSelectOptionComponent } from '@taiga-ui/kit/components/select-option';
import { PolymorpheusComponent } from '@tinkoff/ng-polymorpheus';
import { map } from 'rxjs/operators';
import { CommonModule } from '@angular/common';

let TuiMultiSelectOptionComponent = class TuiMultiSelectOptionComponent extends TuiSelectOptionComponent {
    constructor() {
        super(...arguments);
        this.selected$ = tuiReplayedValueChangesFrom(this.control).pipe(map(value => isPresent(this.option.value) &&
            !!value &&
            !!value.find(item => this.matcher(item, this.option.value))));
    }
    get size() {
        return sizeBigger(this.option.size) ? 'l' : 'm';
    }
};
TuiMultiSelectOptionComponent = __decorate([
    Component({
        selector: 'tui-multi-select-option',
        template: "<tui-primitive-checkbox\n    class=\"tui-space_right-3\"\n    [size]=\"size\"\n    [value]=\"selected$ | async\"\n></tui-primitive-checkbox>\n<ng-container *ngTemplateOutlet=\"context.$implicit\"></ng-container>\n",
        changeDetection: ChangeDetectionStrategy.OnPush,
        styles: [":host{display:flex;flex:1;align-items:center}"]
    })
], TuiMultiSelectOptionComponent);
const TUI_MULTI_SELECT_OPTION = new PolymorpheusComponent(TuiMultiSelectOptionComponent);

let TuiMultiSelectOptionModule = class TuiMultiSelectOptionModule {
};
TuiMultiSelectOptionModule = __decorate([
    NgModule({
        imports: [CommonModule, TuiPrimitiveCheckboxModule],
        declarations: [TuiMultiSelectOptionComponent],
        exports: [TuiMultiSelectOptionComponent],
        entryComponents: [TuiMultiSelectOptionComponent],
    })
], TuiMultiSelectOptionModule);

/**
 * Generated bundle index. Do not edit.
 */

export { TUI_MULTI_SELECT_OPTION, TuiMultiSelectOptionComponent, TuiMultiSelectOptionModule };
//# sourceMappingURL=taiga-ui-kit-components-multi-select-option.js.map
