{"version":3,"file":"taiga-ui-kit-components-avatar.js","sources":["ng://@taiga-ui/kit/components/avatar/avatar.component.ts","ng://@taiga-ui/kit/components/avatar/avatar.module.ts","ng://@taiga-ui/kit/components/avatar/taiga-ui-kit-components-avatar.ts"],"sourcesContent":["import {ChangeDetectionStrategy, Component, HostBinding, Input} from '@angular/core';\nimport {tuiDefaultProp, tuiRequiredSetter} from '@taiga-ui/cdk';\nimport {sizeBigger, TuiSizeXS, TuiSizeXXL} from '@taiga-ui/core';\nimport {stringHashToHsl} from '@taiga-ui/kit/utils/format';\n\n@Component({\n    selector: 'tui-avatar',\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    templateUrl: './avatar.template.html',\n    styleUrls: ['./avatar.style.less'],\n})\nexport class TuiAvatarComponent {\n    @Input()\n    @HostBinding('attr.data-tui-host-size')\n    @tuiDefaultProp()\n    size: TuiSizeXS | TuiSizeXXL = 'm';\n\n    @Input('avatarUrl')\n    @tuiRequiredSetter()\n    set avatarUrlSetter(avatarUrl: string | null) {\n        this.isUrlValid = !!avatarUrl;\n        this.avatarUrl = avatarUrl;\n    }\n\n    @Input()\n    @tuiDefaultProp()\n    text = '';\n\n    @Input()\n    @tuiDefaultProp()\n    autoColor = false;\n\n    @Input()\n    @HostBinding('class._rounded')\n    @tuiDefaultProp()\n    rounded = false;\n\n    avatarUrl: string | null = null;\n\n    isUrlValid = false;\n\n    @HostBinding('style.background')\n    get bgColor(): string {\n        return this.autoColor ? stringHashToHsl(this.text) : '';\n    }\n\n    @HostBinding('class._has-avatar')\n    get hasAvatar(): boolean {\n        return this.avatarUrl !== null && this.isUrlValid;\n    }\n\n    get computedText(): string {\n        if (this.hasAvatar || this.text === '') {\n            return '';\n        }\n\n        const words = this.text.split(' ');\n\n        return words.length > 1 && sizeBigger(this.size)\n            ? words[0].substr(0, 1) + words[1].substr(0, 1)\n            : words[0].substr(0, 1);\n    }\n\n    onError() {\n        this.isUrlValid = false;\n    }\n}\n","import {CommonModule} from '@angular/common';\nimport {NgModule} from '@angular/core';\nimport {TuiLazyLoadingModule} from '@taiga-ui/kit/directives';\nimport {TuiAvatarComponent} from './avatar.component';\n\n@NgModule({\n    imports: [CommonModule, TuiLazyLoadingModule],\n    declarations: [TuiAvatarComponent],\n    exports: [TuiAvatarComponent],\n})\nexport class TuiAvatarModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":[],"mappings":";;;;;;;;;IAWA;QAII,SAAI,GAA2B,GAAG,CAAC;QAWnC,SAAI,GAAG,EAAE,CAAC;QAIV,cAAS,GAAG,KAAK,CAAC;QAKlB,YAAO,GAAG,KAAK,CAAC;QAEhB,cAAS,GAAkB,IAAI,CAAC;QAEhC,eAAU,GAAG,KAAK,CAAC;KA2BtB;IA/CG,sBAAI,+CAAe;aAAnB,UAAoB,SAAwB;YACxC,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC,SAAS,CAAC;YAC9B,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;SAC9B;;;OAAA;IAoBD,sBAAI,uCAAO;aAAX;YACI,OAAO,IAAI,CAAC,SAAS,GAAG,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC;SAC3D;;;OAAA;IAGD,sBAAI,yCAAS;aAAb;YACI,OAAO,IAAI,CAAC,SAAS,KAAK,IAAI,IAAI,IAAI,CAAC,UAAU,CAAC;SACrD;;;OAAA;IAED,sBAAI,4CAAY;aAAhB;YACI,IAAI,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,IAAI,KAAK,EAAE,EAAE;gBACpC,OAAO,EAAE,CAAC;aACb;YAED,IAAM,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;YAEnC,OAAO,KAAK,CAAC,MAAM,GAAG,CAAC,IAAI,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC;kBAC1C,KAAK,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC;kBAC7C,KAAK,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;SAC/B;;;OAAA;IAED,oCAAO,GAAP;QACI,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;KAC3B;IAlDD;QAHC,KAAK,EAAE;QACP,WAAW,CAAC,yBAAyB,CAAC;QACtC,cAAc,EAAE;oDACkB;IAInC;QAFC,KAAK,CAAC,WAAW,CAAC;QAClB,iBAAiB,EAAE;6DAInB;IAID;QAFC,KAAK,EAAE;QACP,cAAc,EAAE;oDACP;IAIV;QAFC,KAAK,EAAE;QACP,cAAc,EAAE;yDACC;IAKlB;QAHC,KAAK,EAAE;QACP,WAAW,CAAC,gBAAgB,CAAC;QAC7B,cAAc,EAAE;uDACD;IAOhB;QADC,WAAW,CAAC,kBAAkB,CAAC;qDAG/B;IAGD;QADC,WAAW,CAAC,mBAAmB,CAAC;uDAGhC;IAtCQ,kBAAkB;QAN9B,SAAS,CAAC;YACP,QAAQ,EAAE,YAAY;YACtB,eAAe,EAAE,uBAAuB,CAAC,MAAM;YAC/C,sNAAqC;;SAExC,CAAC;OACW,kBAAkB,CAuD9B;IAAD,yBAAC;CAvDD;;;ICDA;KAA+B;IAAlB,eAAe;QAL3B,QAAQ,CAAC;YACN,OAAO,EAAE,CAAC,YAAY,EAAE,oBAAoB,CAAC;YAC7C,YAAY,EAAE,CAAC,kBAAkB,CAAC;YAClC,OAAO,EAAE,CAAC,kBAAkB,CAAC;SAChC,CAAC;OACW,eAAe,CAAG;IAAD,sBAAC;CAA/B;;ACVA;;;;;;"}