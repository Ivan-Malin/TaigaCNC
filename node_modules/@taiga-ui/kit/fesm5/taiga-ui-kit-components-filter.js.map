{"version":3,"file":"taiga-ui-kit-components-filter.js","sources":["ng://@taiga-ui/kit/components/filter/filter.component.ts","ng://@taiga-ui/kit/components/filter/filter.module.ts","ng://@taiga-ui/kit/components/filter/taiga-ui-kit-components-filter.ts"],"sourcesContent":["import {\n    ChangeDetectionStrategy,\n    ChangeDetectorRef,\n    Component,\n    ElementRef,\n    EventEmitter,\n    HostBinding,\n    Inject,\n    Input,\n    Optional,\n    Output,\n    Self,\n} from '@angular/core';\nimport {NgControl} from '@angular/forms';\nimport {\n    AbstractTuiMultipleControl,\n    ALWAYS_FALSE_HANDLER,\n    isNativeFocusedIn,\n    TUI_DEFAULT_IDENTITY_MATCHER,\n    TUI_DEFAULT_STRINGIFY,\n    TuiBooleanHandler,\n    TuiContextWithImplicit,\n    tuiDefaultProp,\n    TuiHandler,\n    TuiIdentityMatcher,\n    tuiPure,\n} from '@taiga-ui/cdk';\nimport {TuiSizeL, TuiSizeS} from '@taiga-ui/core';\nimport {PolymorpheusContent} from '@tinkoff/ng-polymorpheus';\n\nconst TUI_DEFAULT_CONTENT_STRINGIFY: PolymorpheusContent<\n    TuiContextWithImplicit<any>\n> = item => TUI_DEFAULT_STRINGIFY(item.$implicit);\n\n// @bad TODO: Add active zone to track focus\n@Component({\n    selector: 'tui-filter',\n    templateUrl: './filter.template.html',\n    styleUrls: ['./filter.style.less'],\n    changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class TuiFilterComponent<T> extends AbstractTuiMultipleControl<T> {\n    @Input()\n    @tuiDefaultProp()\n    identityMatcher: TuiIdentityMatcher<T> = TUI_DEFAULT_IDENTITY_MATCHER;\n\n    @Input()\n    @tuiDefaultProp()\n    items: ReadonlyArray<T> = [];\n\n    @Input()\n    @HostBinding('attr.data-tui-host-size')\n    @tuiDefaultProp()\n    size: TuiSizeS | TuiSizeL = 'm';\n\n    @Input()\n    @tuiDefaultProp()\n    content: PolymorpheusContent<any> = TUI_DEFAULT_CONTENT_STRINGIFY;\n\n    @Input()\n    @tuiDefaultProp()\n    badgeHandler: TuiHandler<T, number> = item => Number(item);\n\n    @Input()\n    @tuiDefaultProp()\n    disabledItemHandler: TuiBooleanHandler<T> = ALWAYS_FALSE_HANDLER;\n\n    @Output()\n    readonly toggledItem = new EventEmitter<T>();\n\n    constructor(\n        @Optional()\n        @Self()\n        @Inject(NgControl)\n        control: NgControl | null,\n        @Inject(ChangeDetectorRef) changeDetectorRef: ChangeDetectorRef,\n        @Inject(ElementRef) private readonly elementRef: ElementRef<HTMLElement>,\n    ) {\n        super(control, changeDetectorRef);\n    }\n\n    get focused(): boolean {\n        return isNativeFocusedIn(this.elementRef.nativeElement);\n    }\n\n    @tuiPure\n    getItemContentContext($implicit: T): TuiContextWithImplicit<T> {\n        return {\n            $implicit,\n        };\n    }\n\n    onCheckbox(value: boolean, item: T) {\n        this.toggledItem.emit(item);\n        this.updateValue(\n            value\n                ? [...this.value, item]\n                : this.value.filter(arrItem => !this.identityMatcher(arrItem, item)),\n        );\n    }\n\n    isCheckboxEnabled(item: T): boolean {\n        return this.value.some(arrItem => this.identityMatcher(arrItem, item));\n    }\n}\n","import {CommonModule} from '@angular/common';\nimport {NgModule} from '@angular/core';\nimport {FormsModule} from '@angular/forms';\nimport {TuiBadgeModule} from '@taiga-ui/kit/components/badge';\nimport {TuiCheckboxBlockModule} from '@taiga-ui/kit/components/checkbox-block';\nimport {PolymorpheusModule} from '@tinkoff/ng-polymorpheus';\n\nimport {TuiFilterComponent} from './filter.component';\n\n@NgModule({\n    imports: [\n        CommonModule,\n        PolymorpheusModule,\n        TuiCheckboxBlockModule,\n        TuiBadgeModule,\n        FormsModule,\n    ],\n    declarations: [TuiFilterComponent],\n    exports: [TuiFilterComponent],\n})\nexport class TuiFilterModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":[],"mappings":"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"}