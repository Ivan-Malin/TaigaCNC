!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("@angular/platform-browser"),require("@angular/core"),require("rxjs"),require("rxjs/operators")):"function"==typeof define&&define.amd?define("@tinkoff/ng-event-plugins",["exports","@angular/platform-browser","@angular/core","rxjs","rxjs/operators"],n):n(((t=t||self).tinkoff=t.tinkoff||{},t.tinkoff["ng-event-plugins"]={}),t.ng.platformBrowser,t.ng.core,t.rxjs,t.rxjs.operators)}(this,(function(t,n,e,r,o){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var i=function(t,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(t,n)};function u(t,n){function e(){this.constructor=t}i(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}function a(t,n){var e="function"==typeof Symbol&&t[Symbol.iterator];if(!e)return t;var r,o,i=e.call(t),u=[];try{for(;(void 0===n||n-- >0)&&!(r=i.next()).done;)u.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(o)throw o.error}}return u}var s=function(){function t(){}return t.prototype.supports=function(t){return-1!==t.split(".").indexOf(this.modifier)},t.prototype.addGlobalEventListener=function(t,n,e){throw new Error("Global event targets are not supported by "+this.modifier+" plugin")},t.prototype.unwrap=function(t){var n=this;return t.split(".").filter((function(t){return t!==n.modifier})).join(".")},t}();var l=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.modifier="$",n}return u(n,t),n.prototype.addEventListener=function(t,n){var e;t[n]=null!==(e=t[n])&&void 0!==e?e:r.EMPTY;var i=this.getMethod(t,n),u=this.manager.getZone().onStable,a=r.concat(u.pipe(o.takeWhile((function(){return t[n]===r.EMPTY}))),r.defer((function(){return t[n]}))).subscribe(i);return function(){return a.unsubscribe()}},n.prototype.getMethod=function(t,n){var e=a(n.split("."),4),r=e[1],o=e[2],i=e[3],u=void 0===i?"":i;return n.endsWith(".attr")?function(n){return null===n?t.removeAttribute(r):t.setAttribute(r,String(n))}:"class"===r?function(n){return t.classList.toggle(o,!!n)}:"style"===r?function(n){return t.style.setProperty(o.replace(/[a-z][A-Z]/g,(function(t){return t[0]+"-"+t[1].toLowerCase()})),""+n+u)}:function(n){return t[r]=n}},n.decorators=[{type:e.Injectable}],n}(s);var p=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.modifier="capture",n}return u(n,t),n.prototype.supports=function(t){var n=t.split(".");return 2===n.length&&-1!==n.indexOf(this.modifier)},n.prototype.addEventListener=function(t,n,e){var r=this;return t.addEventListener(this.unwrap(n),e,!0),function(){return t.removeEventListener(r.unwrap(n),e)}},n.decorators=[{type:e.Injectable}],n}(s);var f=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.modifier="prevent",n}return u(n,t),n.prototype.addEventListener=function(t,n,e){return this.manager.addEventListener(t,this.unwrap(n),(function(t){t.preventDefault(),e(t)}))},n.prototype.addGlobalEventListener=function(t,n,e){return this.manager.addGlobalEventListener(t,this.unwrap(n),(function(t){t.preventDefault(),e(t)}))},n.decorators=[{type:e.Injectable}],n}(s);var c=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.modifier="silent",n}return u(n,t),n.prototype.addEventListener=function(t,n,e){var r=this;return this.manager.getZone().runOutsideAngular((function(){return r.manager.addEventListener(t,r.unwrap(n),e)}))},n.prototype.addGlobalEventListener=function(t,n,e){var r=this;return this.manager.getZone().runOutsideAngular((function(){return r.manager.addGlobalEventListener(t,r.unwrap(n),e)}))},n.decorators=[{type:e.Injectable}],n}(s);var d=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.modifier="stop",n}return u(n,t),n.prototype.addEventListener=function(t,n,e){return this.manager.addEventListener(t,this.unwrap(n),(function(t){t.stopPropagation(),e(t)}))},n.prototype.addGlobalEventListener=function(t,n,e){return this.manager.addGlobalEventListener(t,this.unwrap(n),(function(t){t.stopPropagation(),e(t)}))},n.decorators=[{type:e.Injectable}],n}(s);var v=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.modifier="init",n}return u(n,t),n.prototype.addEventListener=function(t,n,e){return this.handle(e)},n.prototype.addGlobalEventListener=function(t,n,e){return this.handle(e)},n.prototype.handle=function(t){var n=this.manager.getZone(),e=n.onStable.subscribe((function(){e.unsubscribe(),t(n)}));return function(){}},n.decorators=[{type:e.Injectable}],n}(s);var h=[{provide:n.EVENT_MANAGER_PLUGINS,useClass:c,multi:!0},{provide:n.EVENT_MANAGER_PLUGINS,useClass:f,multi:!0},{provide:n.EVENT_MANAGER_PLUGINS,useClass:d,multi:!0},{provide:n.EVENT_MANAGER_PLUGINS,useClass:v,multi:!0},{provide:n.EVENT_MANAGER_PLUGINS,useClass:p,multi:!0},{provide:n.EVENT_MANAGER_PLUGINS,useClass:l,multi:!0}];t.BindEventPlugin=l,t.CaptureEventPlugin=p,t.NG_EVENT_PLUGINS=h,t.PreventEventPlugin=f,t.SilentEventPlugin=c,t.StopEventPlugin=d,t.ZoneEventPlugin=v,t.asCallable=function(t){return t},t.shouldCall=function(t){return function(n,e,r){var o=r.value;r.value=function(){var n=arguments[0];Object.defineProperty(this,e,{value:function(){for(var e=this,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];t.apply(this,r)&&n.run((function(){o.apply(e,r)}))}})}}},t.Éµa=s,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=tinkoff-ng-event-plugins.umd.min.js.map